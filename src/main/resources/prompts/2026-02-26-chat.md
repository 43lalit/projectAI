# Chat Log - 2026-02-26

## Session Summary
- Updated Reporting Viewer data behavior to load only the latest run for the selected reporting form.
- Added run-history summary view and MDRM drill-down:
  - run summary by run/report with `total`, `active`, `inactive`, `updated`
  - drill-down endpoint to list MDRM codes by bucket (`TOTAL|ACTIVE|INACTIVE|UPDATED`)
- Added precomputed summary persistence:
  - new table `mdrm_run_summary`
  - summary refresh during each successful load
  - startup backfill for missing run/report summary rows
  - run-history API reads from summary table for better performance
- Updated UI extensively:
  - Bootstrap integrated for static pages
  - Reporting Viewer redesigned to split layout:
    - left pane with searchable report list
    - right pane with tabbed `Run Summary` and `Regular Details`
  - Added left-pane mode selector:
    - `Reports (N)` dynamic count
    - `MDRMs` placeholder (coming soon)
  - Reworked top navigation into expandable menu-style links
  - Converted summary counts and tabs to hyperlink-style controls
  - Removed noisy report status/meta messages
  - Added compact selected report heading
  - Adjusted layout to use full screen space and fixed tab position jitter
- Updated main header text to:
  - `Fed Micro Data Reference Management Discovery Tool`
  - removed subheader

## Endpoints Added/Updated
- `GET /api/mdrm/data?reportingForm=...`
  - now returns selected form rows from latest run only
- `GET /api/mdrm/run-history?reportingForm=...`
  - run-level summary from precomputed summary table
- `GET /api/mdrm/run-mdrms?reportingForm=...&runId=...&bucket=...`
  - MDRM code drill-down for selected bucket

## Notes
- `MDRMs` mode in left pane is intentionally a placeholder and currently non-functional.
- UI changes are in `src/main/resources/static/index.html` and `src/main/resources/static/css/mdrm-console.css`.
- Legacy pages `mdrm-ui.html` and `mdrm-reporting.html` continue to redirect to `/`.
